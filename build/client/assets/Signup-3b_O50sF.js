import{r as c,a as y,j as e,L as N}from"./components-B3s0IpTW.js";import{R as S}from"./ResponsiveNav-CSwpN3E1.js";import{z as r,u as k,s as E}from"./index-DAH1x-Px.js";import{u as P}from"./NotificationContext-7wGW9xfz.js";import{h as C}from"./Lib-DgMjv0aD.js";import"./MobileNav-BsYC7GnI.js";import"./iconBase-Bk1nv4PK.js";import"./index-CDpADjvc.js";const _=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[\W_]).{8,}$/,F=r.object({email:r.string({message:"Please enter an email"}).min(7,{message:"Email must be greater than 7 characters"}).email({message:"Please enter a valid email"}),password:r.string({message:"Please enter a password"}).min(8,"Password must be at least 8 characters").regex(_,"Please enter a valid password"),first_name:r.string({message:"Please enter your first name"}).min(1,{message:"First name must be at least 1 character"}).max(50,{message:"First name must be at most 50 characters"})}),R=()=>{var p,u,x;const[$,f]=c.useState(null),[A,d]=c.useState(!1),n=P();y();const[m,v]=c.useState(!1),i=t=>{let g=t.target.value,h=t.target.name;f(o=>({...o,[h]:g}))},w=async t=>{d(!0),n.notify("",""),await new Promise(a=>setTimeout(a,1e3));const o="https://gursse.com"+"/api/users";try{const a=await fetch(o,{method:"POST",headers:C,body:JSON.stringify(t)});if(a.ok)n.alertCancel("","Signup success. Please check your email to complete signup."),v(!0);else{var b=await a.json();throw new Error(`Error Code: ${a.status} - ${b.message||b.error}`)}}catch(a){n.alertCancel("",a.message);return}finally{d(!1)}},{register:l,handleSubmit:j,getValues:L,watch:B,setError:W,formState:{errors:s,isSubmitting:z}}=k({defaultValues:{},resolver:E(F)});return e.jsx("div",{className:"",children:e.jsx("form",{onSubmit:j(w),children:e.jsx("div",{className:"h-screen w-screen bg-white  flex flex-col place-content-center place-items-center  ",children:e.jsxs("div",{className:" max-w-[300px]",children:[e.jsx("div",{className:" text-[26px] font-[500]",children:e.jsx("div",{className:"pb-1 border-b",children:"Signup"})}),e.jsxs("div",{className:`${m?"hidden":"block"}`,children:[e.jsx("div",{className:" mt-6 text-[17px] leading-[1.2em]",children:"Enter your details below to continue."}),e.jsxs("div",{className:" mt-4",children:[e.jsx("input",{...l("email",{onChange:i}),className:" w-full outline-none border-[2px] border-gray-100 focus:border-gray-300 focus:border-[1px]  bg-gray-100  rounded-[5px] h-[50px] px-4",type:"text",placeholder:"Enter email address to login"}),(s==null?void 0:s.email)&&e.jsx("div",{className:`text-sm text-red-500 ml-[1px]
                                leading-[1.2em] mt-1`,children:(p=s==null?void 0:s.email)==null?void 0:p.message})]}),e.jsxs("div",{className:" mt-2",children:[e.jsx("input",{...l("password",{onChange:i}),className:" w-full outline-none border-[2px] border-gray-100 focus:border-gray-300 focus:border-[1px]  bg-gray-100  rounded-[5px] h-[50px] px-4",type:"password",placeholder:"Enter password"}),(s==null?void 0:s.password)&&e.jsx("div",{className:`text-sm text-red-500 ml-[1px]
                                leading-[1.2em] mt-1`,children:(u=s==null?void 0:s.password)==null?void 0:u.message})]}),e.jsxs("div",{className:" mt-2",children:[e.jsx("input",{...l("first_name",{onChange:i}),className:" w-full outline-none border-[1px] border-gray-100 focus:border-gray-300 focus:border-[1px]  bg-gray-100  rounded-[5px] h-[50px] px-4",type:"text",placeholder:"Enter firstname"}),(s==null?void 0:s.first_name)&&e.jsx("div",{className:`text-sm text-red-500 ml-[1px]
                                leading-[1.2em] mt-1`,children:(x=s==null?void 0:s.first_name)==null?void 0:x.message})]}),e.jsx("div",{className:" mt-3",children:e.jsx("input",{className:`w-full bg-black text-white rounded-full 
                                h-[50px] px-4 cursor-pointer hover:bg-blue-700`,type:"submit",placeholder:"Enter email address to login",value:"Sign up"})}),e.jsx("div",{className:" mt-3 text-[11px]",children:"By proceeding, you consent to get calls, WhatsApp or SMS/RCS messages, including by automated means, from Dersck and its affiliates to the email provided."}),e.jsxs("div",{className:"mt-1 flex place-content-between place-items-center",children:[e.jsx("button",{type:"button",onClick:()=>window.location.href="/signin",className:` text-black bg-gray-100
                                px-5 py-1 border rounded-full border-black/40
                                hover:bg-blue-100 hover:shadow-lg hover:shadow-black/20`,children:"Sign In"}),e.jsx(N,{to:"/resetpw",children:e.jsx("button",{type:"button",className:"underline",children:"Forgot password?"})})]})]}),e.jsxs("div",{className:`${m?"block":"hidden"} mt-2`,children:[e.jsx("b",{children:"Success!"})," Please check your email to finish signup."]})]})})})})},O=()=>e.jsxs("div",{children:[e.jsx(S,{}),e.jsx(R,{})]});export{O as default};
