import{r as o,j as e,b as N}from"./components-B3s0IpTW.js";import{R as k}from"./ResponsiveNav-CSwpN3E1.js";import{u as C}from"./NotificationContext-7wGW9xfz.js";import{h as b}from"./Lib-DgMjv0aD.js";import"./MobileNav-BsYC7GnI.js";import"./iconBase-Bk1nv4PK.js";import"./index-CDpADjvc.js";const E=({data:s})=>{const[m,d]=o.useState(""),[p,h]=o.useState(""),i=C(),[S,r]=o.useState(!1),[u,x]=o.useState("");o.useEffect(()=>{s&&(d(s==null?void 0:s.email),x(s==null?void 0:s.hash))},[s]);const f=t=>{t===!0?window.location.href="/signin":i.cancel()},g=async()=>{i.notify("Completing signup..."),r(!0),await new Promise(n=>setTimeout(n,1e3));const t=[];t.code=p;const a="https://gursse.com",c=`/api/users/verify_signup/${u}`,j=a+c;try{const n=await fetch(j,{method:"PUT",headers:b,body:JSON.stringify(t)});var l=await n.json();if(n.ok)i.notify(l.message),await new Promise(v=>setTimeout(v,2e3)),window.location.href="/signin";else throw new Error(`Error Code: ${n.status} - ${l.message}`)}catch(n){i.confirm(n.message,f);return}finally{r(!1)}},w=t=>{h(t.target.value.slice(0,7))},y=t=>{!/^[0-9]$/.test(t.key)&&!["Backspace","ArrowLeft","ArrowRight","Tab","Delete"].includes(t.key)&&t.preventDefault()};return e.jsxs(e.Fragment,{children:[e.jsx("style",{}),e.jsx("div",{className:"",children:e.jsx("div",{className:"h-screen w-screen bg-white  flex flex-col place-content-center place-items-center pt-16 ",children:e.jsxs("div",{className:" max-w-[300px]",children:[e.jsxs("div",{className:" text-[20px] leading-[1.2em]",children:["Enter the 7 digit code sent to: ",e.jsx("span",{className:"text-[17px] font-normal text-gray-800",children:m})]}),e.jsx("div",{className:" mt-8 flex gap-2",children:e.jsx("input",{className:"signup__code w-[180px] tracking-[.4em]",type:"text",maxLength:7,onKeyDown:y,onChange:w})}),e.jsx("div",{className:" mt-4 text-[12px]",children:"Tip: Please check your inbox and spam folders"}),e.jsx("div",{className:" mt-3",children:e.jsx("input",{className:`w-full bg-black text-white 
                                    rounded-[8px] h-[50px] px-4 cursor-pointer`,type:"button",placeholder:"Enter email address to login",value:"Continue",onClick:g})})]})})})]})},$=()=>{const s=N();return e.jsxs("div",{children:[e.jsx(k,{}),s&&e.jsx(E,{data:s})]})};export{$ as default};
