import{r as n,j as t,c as x}from"./components-B3s0IpTW.js";import{P as g}from"./ProfileLayout-CiPTMqaQ.js";import{B as v}from"./BusinessMenu-Dy3rzcrD.js";import{u as j}from"./NotificationContext-7wGW9xfz.js";import{g as w,h as y}from"./Lib-NIWUsXcU.js";import"./AuthContext-CTVYchcJ.js";import"./Footer-ByimyL7f.js";import"./MobileNav-BsYC7GnI.js";import"./iconBase-Bk1nv4PK.js";import"./index-CIOWmsy1.js";import"./index-CDpADjvc.js";import"./index-CB7nKGqz.js";const b=({userGuid:e,businessGuid:s})=>{const[i,c]=n.useState(null),[u,l]=n.useState(!0),r=j(),[A,m]=n.useState(!1);n.useEffect(()=>{try{w(e,s).then(o=>{c(o[0].active_status),l(!1)})}catch{alert("Could not fetch business")}},[]);const d=async()=>{m(!0),r.notify(),await new Promise(a=>setTimeout(a,1e3));const o=!i;try{const a="http://gursse.com",p=`/api/listings/activate/${e}/${s}`,f=a+p,N=await fetch(f,{method:"PUT",headers:y,body:JSON.stringify({user_guid:e,business_guid:s,active:o})});r.notify("Completed"),await new Promise(h=>setTimeout(h,1e3))}catch{}finally{r.cancel(),c(o)}};return u?t.jsx("div",{children:"Loading..."}):t.jsxs("div",{className:`p-6 border rounded shadow max-w-lg
        mx-auto mt-12`,children:[t.jsx("h2",{className:"text-xl mb-4",children:"Business Activation"}),t.jsxs("label",{className:"flex items-center space-x-2 hover:cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i??!1,onChange:d,className:"w-5 h-5"}),t.jsx("span",{children:i?"Active":"Inactive"})]})]})},$=()=>{const e=x(),s=e.businessGuid,i=e.userGuid;return t.jsxs(g,{title:"Activate/Deactivate",children:[t.jsx(v,{guid:s,userGuid:i}),t.jsx(b,{userGuid:i,businessGuid:s})]})};export{$ as default};
