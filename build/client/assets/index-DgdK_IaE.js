import{r as n,j as a}from"./components-B3s0IpTW.js";import{P as c}from"./ProfileLayout-BmGu60BQ.js";import{u as l}from"./AuthContext-8FHLzqeM.js";import{h as f,G as g}from"./Lib-DgMjv0aD.js";import{B as h}from"./Businesses-DdknKuq3.js";import"./Footer-B-5aMnpr.js";import"./MobileNav-ChBINXPn.js";import"./iconBase-Bk1nv4PK.js";import"./index-CIOWmsy1.js";import"./index-CDpADjvc.js";import"./index-CB7nKGqz.js";const d="https://gursse.com",L=()=>{const{user:s}=l(),[r,i]=n.useState([]),u=async m=>{try{let e=`/api/listings/owner/${m}`,t=d+e;const o=await fetch(t,{method:"GET",headers:f});o.status!==200&&(console.log("error fetching businesses"),console.log(await o.json()));const p=await o.json();i(p)}catch(e){let t=g({error:e.message},!1,200);return console.log(e.message),i(t),null}};return n.useEffect(()=>{s&&u(s.guid)},[s]),a.jsx(c,{title:"Businesses",children:s&&r&&a.jsx(h,{user:s,businesses:r})})};export{L as default};
