import{r as d,a as j,j as e,L as w}from"./components-B3s0IpTW.js";import{R as v}from"./ResponsiveNav-CSwpN3E1.js";import{z as u,u as N,s as y}from"./index-DAH1x-Px.js";import{u as S}from"./AuthContext-ClJ_ziLV.js";import{u as P}from"./NotificationContext-7wGW9xfz.js";import{t as R}from"./Lib-DgMjv0aD.js";import"./MobileNav-BsYC7GnI.js";import"./iconBase-Bk1nv4PK.js";import"./index-CDpADjvc.js";const k=u.object({username:u.string({message:"Please enter an email"}).min(7,{message:"Email must be greater than 7 characters"}).email({message:"Please enter a valid email"})}),C=()=>{var m;const[E,x]=d.useState(null),p=S(),[a,o]=d.useState(!1),l=P();j();const g=s=>{let c=s.target.value,r=s.target.name;x(n=>({...n,[r]:c}))},h=async s=>{o(!0),l.notify(),await new Promise(i=>setTimeout(i,1e3));const r={email:s.username},n=await p.resetpw(r);l.alertCancel("",R(n)),await new Promise(i=>setTimeout(i,1e3)),o(!1)},{register:f,handleSubmit:b,getValues:F,watch:A,setError:L,formState:{errors:t,isSubmitting:T}}=N({defaultValues:{},resolver:y(k)});return e.jsx("div",{className:"",children:e.jsx("div",{className:"h-screen w-screen bg-white  flex flex-col place-content-center place-items-center pt-16 ",children:e.jsxs("div",{className:" max-w-[300px]",children:[e.jsx("div",{className:" text-[26px] font-[500]",children:e.jsx("div",{className:"pb-1 border-b",children:"Reset Password"})}),e.jsx("div",{className:" mt-6 text-[20px] leading-[1.2em]",children:"Enter your email address to reset your password?"}),e.jsxs("form",{onSubmit:b(h),children:[e.jsxs("div",{className:" mt-4",children:[e.jsx("input",{...f("username",{onChange:g}),className:" w-full outline-none border-[2px] border-gray-100 focus:border-gray-300 focus:border-[2px]  bg-gray-100  rounded-[8px] h-[50px] px-4",type:"text",placeholder:"Enter email address"}),typeof(t==null?void 0:t.username)&&e.jsx("div",{className:"ml-1 text-red-600 text-[13px]",children:(m=t.username)==null?void 0:m.message})]}),e.jsx("button",{className:`${a?" bg-gray-500/70":"cursor-pointer bg-black"} mt-3  w-full text-white rounded-[8px] h-[50px] px-4`,type:"submit",disabled:a,children:a?"Submitting...":"Sign in"})]}),e.jsx("div",{className:" mt-3 text-[11px]",children:"By proceeding, you consent to get calls, WhatsApp or SMS/RCS messages, including by automated means, from Dersck and its affiliates to the email provided."}),e.jsxs("div",{className:"mt-1 flex place-content-between place-items-center",children:[e.jsx("button",{onClick:()=>window.location.href="/signup",className:` text-blue-700 bg-gray-100
                                px-5 py-1 border rounded`,children:"Signup"}),e.jsx(w,{to:"/signin",children:e.jsx("button",{className:"underline",children:"Click to Sign In"})})]})]})})})},q=()=>e.jsxs("div",{children:[e.jsx(v,{}),e.jsx(C,{})]});export{q as default};
